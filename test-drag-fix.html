<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾ç‰‡æ‹–æ‹½ä¿®å¤æµ‹è¯•</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-title {
            color: #4f46e5;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            margin: 10px 0;
        }
        .status-success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        .status-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }
        .test-instructions {
            background: #f8fafc;
            border-left: 4px solid #3b82f6;
            padding: 20px;
            margin: 20px 0;
        }
        .test-instructions h4 {
            color: #1e40af;
            margin-bottom: 10px;
        }
        .test-steps {
            list-style: none;
            padding: 0;
        }
        .test-steps li {
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        .test-steps li:last-child {
            border-bottom: none;
        }
        .test-steps li::before {
            content: "ğŸ“‹";
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-section">
            <h1 class="test-title">
                <i class="fas fa-bug"></i>
                å›¾ç‰‡æ‹–æ‹½ä¿®å¤éªŒè¯æµ‹è¯•
            </h1>
            <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•ä¿®å¤åçš„å›¾ç‰‡æ‹–æ‹½åŠŸèƒ½ï¼Œç¡®ä¿æ‹–æ‹½å›¾ç‰‡è°ƒæ•´é¡ºåºæ—¶ä¸ä¼šè¯¯è§¦å‘"æ·»åŠ æ–°å†…å®¹"å¼¹çª—ã€‚</p>
            
            <div class="status-indicator status-success">
                <i class="fas fa-check-circle"></i>
                ä¿®å¤ä»£ç å·²åº”ç”¨
            </div>
        </div>

        <div class="test-section">
            <h2 class="test-title">
                <i class="fas fa-clipboard-list"></i>
                æµ‹è¯•è¯´æ˜
            </h2>
            
            <div class="test-instructions">
                <h4>ğŸ¯ æµ‹è¯•ç›®æ ‡</h4>
                <p>éªŒè¯åœ¨å›¾ç‰‡æ”¶è—é¡µé¢æ‹–æ‹½å›¾ç‰‡è¿›è¡Œæ’åºæ—¶ï¼Œä¸ä¼šæ„å¤–è§¦å‘"æ·»åŠ æ–°å†…å®¹"æ¨¡æ€æ¡†ã€‚</p>
                
                <h4>ğŸ”§ ä¿®å¤å†…å®¹</h4>
                <ul>
                    <li>âœ… æ·»åŠ äº† <code>isImageDragging()</code> æ–¹æ³•æ¥åŒºåˆ†å›¾ç‰‡å†…éƒ¨æ‹–æ‹½å’Œå¤–éƒ¨æ–‡ä»¶æ‹–æ‹½</li>
                    <li>âœ… åœ¨å›¾ç‰‡æ‹–æ‹½æ—¶è®¾ç½®ç‰¹æ®Šæ•°æ®ç±»å‹æ ‡è®° <code>application/x-image-reorder</code></li>
                    <li>âœ… ä¿®æ”¹å…¨å±€æ‹–æ‹½äº‹ä»¶ç›‘å¬å™¨ï¼Œåªåœ¨çœŸæ­£çš„å¤–éƒ¨æ–‡ä»¶æ‹–æ‹½æ—¶è§¦å‘æ¨¡æ€æ¡†</li>
                </ul>
            </div>

            <div class="test-instructions">
                <h4>ğŸ“ æµ‹è¯•æ­¥éª¤</h4>
                <ol class="test-steps">
                    <li>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ‰“å¼€ä¸»é¡µé¢å¹¶åˆ‡æ¢åˆ°å›¾ç‰‡æ”¶è—é¡µé¢</li>
                    <li>æ·»åŠ å‡ å¼ æµ‹è¯•å›¾ç‰‡ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼‰</li>
                    <li>å°è¯•æ‹–æ‹½å›¾ç‰‡è°ƒæ•´é¡ºåº</li>
                    <li>è§‚å¯Ÿæ˜¯å¦ä¼šæ„å¤–å¼¹å‡º"æ·»åŠ æ–°å†…å®¹"æ¨¡æ€æ¡†</li>
                    <li>ä»å¤–éƒ¨æ‹–æ‹½æ–‡ä»¶åˆ°é¡µé¢ï¼ŒéªŒè¯æ¨¡æ€æ¡†æ˜¯å¦æ­£å¸¸å¼¹å‡º</li>
                </ol>
            </div>
        </div>

        <div class="test-section">
            <h2 class="test-title">
                <i class="fas fa-play"></i>
                å¼€å§‹æµ‹è¯•
            </h2>
            
            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                <a href="index.html#images" class="btn btn-primary" target="_blank">
                    <i class="fas fa-external-link-alt"></i>
                    æ‰“å¼€å›¾ç‰‡æ”¶è—é¡µé¢
                </a>
                
                <a href="test-image-bulk.html" class="btn btn-secondary" target="_blank">
                    <i class="fas fa-flask"></i>
                    æµ‹è¯•é¡µé¢ï¼ˆå«æµ‹è¯•æ•°æ®ï¼‰
                </a>
            </div>
        </div>

        <div class="test-section">
            <h2 class="test-title">
                <i class="fas fa-code"></i>
                ä¿®å¤ä»£ç è¯¦æƒ…
            </h2>
            
            <div style="background: #f1f5f9; padding: 20px; border-radius: 8px; font-family: monospace; font-size: 0.9rem;">
                <strong>1. æ–°å¢ isImageDragging() æ–¹æ³•ï¼š</strong>
                <pre style="margin: 10px 0; color: #374151;">
// æ£€æŸ¥æ˜¯å¦ä¸ºå›¾ç‰‡å†…éƒ¨æ‹–æ‹½ï¼ˆç”¨äºæ’åºï¼‰
isImageDragging(e) {
    // æ£€æŸ¥æ‹–æ‹½æ•°æ®æ˜¯å¦åŒ…å«å›¾ç‰‡æ’åºçš„ç‰¹æ®Šæ ‡è®°
    if (e.dataTransfer.types.includes('application/x-image-reorder')) {
        return true;
    }
    // ... å…¶ä»–æ£€æŸ¥é€»è¾‘
}</pre>

                <strong>2. ä¿®æ”¹å›¾ç‰‡æ‹–æ‹½äº‹ä»¶ï¼š</strong>
                <pre style="margin: 10px 0; color: #374151;">
// è®¾ç½®æ‹–æ‹½æ•°æ®ï¼Œæ ‡è®°ä¸ºå›¾ç‰‡å†…éƒ¨æ‹–æ‹½
e.dataTransfer.setData('application/x-image-reorder', image.id);</pre>

                <strong>3. ä¼˜åŒ–å…¨å±€æ‹–æ‹½ç›‘å¬å™¨ï¼š</strong>
                <pre style="margin: 10px 0; color: #374151;">
document.addEventListener('dragenter', (e) => {
    // æ£€æŸ¥æ˜¯å¦æ˜¯å¤–éƒ¨æ–‡ä»¶æ‹–æ‹½ï¼ˆä¸æ˜¯å›¾ç‰‡å†…éƒ¨æ‹–æ‹½æ’åºï¼‰
    if (e.dataTransfer.types.includes('Files') && !this.isImageDragging(e)) {
        // åªæœ‰å¤–éƒ¨æ–‡ä»¶æ‹–æ‹½æ‰è§¦å‘æ¨¡æ€æ¡†
        this.showAddContentModal();
    }
});</pre>
            </div>
        </div>

        <div class="test-section">
            <h2 class="test-title">
                <i class="fas fa-check-circle"></i>
                æœŸæœ›ç»“æœ
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div style="background: #dcfce7; padding: 20px; border-radius: 8px; border: 1px solid #bbf7d0;">
                    <h4 style="color: #166534; margin-bottom: 10px;">
                        <i class="fas fa-arrows-alt"></i>
                        å›¾ç‰‡æ‹–æ‹½æ’åº
                    </h4>
                    <p style="color: #166534; margin: 0;">æ‹–æ‹½å›¾ç‰‡è°ƒæ•´é¡ºåºæ—¶ï¼Œä¸ä¼šå¼¹å‡º"æ·»åŠ æ–°å†…å®¹"æ¨¡æ€æ¡†ï¼Œåªä¼šè¿›è¡Œæ­£å¸¸çš„æ’åºæ“ä½œã€‚</p>
                </div>
                
                <div style="background: #dbeafe; padding: 20px; border-radius: 8px; border: 1px solid #bfdbfe;">
                    <h4 style="color: #1e40af; margin-bottom: 10px;">
                        <i class="fas fa-file-upload"></i>
                        å¤–éƒ¨æ–‡ä»¶æ‹–æ‹½
                    </h4>
                    <p style="color: #1e40af; margin: 0;">ä»å¤–éƒ¨æ‹–æ‹½æ–‡ä»¶åˆ°é¡µé¢æ—¶ï¼Œä¼šæ­£å¸¸å¼¹å‡º"æ·»åŠ æ–°å†…å®¹"æ¨¡æ€æ¡†è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // ç›‘æ§æµ‹è¯•è¿‡ç¨‹
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ§ª å›¾ç‰‡æ‹–æ‹½ä¿®å¤æµ‹è¯•é¡µé¢å·²åŠ è½½');
            console.log('ğŸ”§ ä¿®å¤å†…å®¹ï¼š');
            console.log('   - æ·»åŠ  isImageDragging() æ–¹æ³•åŒºåˆ†æ‹–æ‹½ç±»å‹');
            console.log('   - å›¾ç‰‡æ‹–æ‹½æ—¶è®¾ç½®ç‰¹æ®Šæ•°æ®ç±»å‹æ ‡è®°');
            console.log('   - ä¼˜åŒ–å…¨å±€æ‹–æ‹½äº‹ä»¶ç›‘å¬å™¨é€»è¾‘');
            console.log('ğŸ“‹ è¯·æŒ‰ç…§æµ‹è¯•æ­¥éª¤è¿›è¡ŒéªŒè¯');
        });

        // æ·»åŠ ä¸€äº›è°ƒè¯•ä¿¡æ¯
        if (window.knowledgeBase) {
            console.log('âœ… KnowledgeBase ç³»ç»Ÿå·²åŠ è½½');
        } else {
            console.log('âŒ KnowledgeBase ç³»ç»ŸæœªåŠ è½½');
        }
    </script>
</body>
</html>